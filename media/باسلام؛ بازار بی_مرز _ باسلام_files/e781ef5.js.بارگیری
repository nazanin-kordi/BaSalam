(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1064:function(e,t,n){e.exports={}},1134:function(e,t,n){"use strict";n(1064)},1175:function(e,t,n){"use strict";var o=n(0),r=(n(14),n(43),n(9),n(108),n(20),n(3)),l=n(17),c=n(12),d=n(222),v={name:"OrderTracking",components:{BsModal:r.BsModal,BsInput:r.BsInput,BsButton:r.BsButton},props:{isShow:{type:Boolean,default:!1},name:{type:String,required:!0},question:{type:Object,required:!0},icons:{type:Array,default:function(){return[{id:1,icon:"bi-emoji-sad"},{id:2,icon:"bi-emoji-sad"},{id:3,icon:"bi-poker-face"},{id:4,icon:"bi-emoji"},{id:5,icon:"bi-emoji"}]}},type:{type:Number,default:2},successText:{type:String,default:"ممنون که وقت گذاشتی، یه دنیا ارزش داشت!"}},data:function(){return{selected:null,success:!1,description:"",isLoading:!1}},computed:{hasSuccessListener:function(){return this.$listeners&&this.$listeners.success},cacheTime:function(){var e;return null===(e=this.$getFeatureValue("ot_ces_modal_config"))||void 0===e?void 0:e.cache_time},isFeedbackSubmit:function(){return this.selected&&this.description}},methods:{rateSelect:function(e){this.selected=e},feedbackSubmit:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var body;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,body={versionCode:0,clientName:"web.public",text:e.description,rate:e.selected,type:e.type},t.next=5,Object(d.a)(e.$npsRequest,body);case 5:e.cache(),e.hasSuccessListener?e.$emit("success"):e.success=!0,t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),Object(l.b)(t.t0),e.close();case 13:return t.prev=13,e.isLoading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,9,13,16]])})))()},close:function(){this.cache(),this.$emit("close")},cache:function(){if(this.cacheTime){var e=864e5*this.cacheTime;c.a.setItem("ces-".concat(this.name),String(Date.now()),e)}}}},h=(n(1134),n(2)),component=Object(h.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BsModal",{staticClass:"nps",attrs:{show:e.isShow,size:"sm"},on:{close:e.close}},[e.success?[n("div",{staticClass:"nps__success"},[n("img",{staticClass:"nps__success-image",attrs:{src:"https://statics.basalam.com/public-10/admin/NNaBN/07-11/mshjbzLRO3Cf3Rzh6am9eUv9BOLEGmN20M4qSnRQoqJy7D3wwR.SVG"}}),e._v(" "),n("div",{staticClass:"nps__success-title"},[e._v("بازخوردت با موفقیت ثبت شد!")]),e._v(" "),n("span",[e._v(e._s(e.successText))])]),e._v(" "),n("BsButton",{staticClass:"nps__success-button",attrs:{color:"primary",label:"بستن",variant:"outline",size:"md"},on:{click:e.close}})]:[n("span",{staticClass:"nps__title"},[e._v(e._s(e.question.rate))]),e._v(" "),n("div",{staticClass:"nps__buttons"},e._l(e.icons,(function(t){return n("button",{key:t.id,staticClass:"nps__button",class:t.id===e.selected?"nps__button--selected":"",on:{click:function(n){return e.rateSelect(t.id)}}},[n("i",{staticClass:"nps__icon",class:t.icon})])})),0),e._v(" "),n("div",{staticClass:"nps__rate"},[n("span",[e._v(e._s(e.question.maxText||"خیلی راضی"))]),e._v(" "),n("span",[e._v(e._s(e.question.minText||"خیلی ناراضی"))])]),e._v(" "),n("BsInput",{staticClass:"nps__description",attrs:{type:"textarea",title:e.question.description},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),e._v(" "),n("section",{staticClass:"nps__footer"},[n("BsButton",{attrs:{color:"primary",label:"ارسال بازخورد",size:"md",loading:e.isLoading,disabled:!e.isFeedbackSubmit},on:{click:e.feedbackSubmit}}),e._v(" "),n("BsButton",{staticClass:"nps__footer-close",attrs:{color:"primary",label:"باشه بعدا",variant:"outline",size:"md"},on:{click:e.close}})],1)]],2)}),[],!1,null,"1b510406",null);t.a=component.exports},1304:function(e,t,n){e.exports={}},1305:function(e,t,n){e.exports={}},1306:function(e,t,n){e.exports={}},1307:function(e,t,n){e.exports={}},1308:function(e,t,n){e.exports={}},1309:function(e,t,n){e.exports={}},1310:function(e,t,n){e.exports={}},1311:function(e,t,n){e.exports={}},1312:function(e,t,n){e.exports={}},1313:function(e,t,n){e.exports={}},1314:function(e,t,n){e.exports={}},1315:function(e,t,n){e.exports={}},1316:function(e,t,n){e.exports={}},1317:function(e,t,n){e.exports={}},1318:function(e,t,n){e.exports={}},1615:function(e,t,n){"use strict";n(1304)},1616:function(e,t,n){"use strict";n(1305)},1617:function(e,t,n){"use strict";n(1306)},1618:function(e,t,n){"use strict";n(1307)},1619:function(e,t,n){"use strict";n(1308)},1620:function(e,t,n){"use strict";n(1309)},1621:function(e,t,n){"use strict";n(1310)},1622:function(e,t,n){"use strict";n(1311)},1623:function(e,t,n){"use strict";n(1312)},1624:function(e,t,n){"use strict";n(1313)},1625:function(e,t,n){"use strict";n(1314)},1626:function(e,t,n){"use strict";n(1315)},1627:function(e,t,n){"use strict";n(1316)},1628:function(e,t,n){"use strict";n(1317)},1629:function(e,t,n){"use strict";n(1318)},1929:function(e,t,n){"use strict";n.r(t);var o=n(0);n(14),n(38),n(56),n(277);n(8),n(9),n(6),n(5),n(10),n(7),n(11);var r=n(1);n(23);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function d(e){return e.map((function(e){return"navigation_tile"===e.ui||"product_slider_tile"===e.ui?c(c({},e),{},{result:[e.result]}):"video_tile"===e.ui&&e.result.length>1?c(c({},e),{},{ui:"video_slider_tile",result:[e.result]}):"plain_video_tile"===e.ui&&e.result.length>1?c(c({},e),{},{ui:"plain_video_slider_tile",result:[e.result]}):"banner_tile"===e.ui&&e.result.length>1?c(c({},e),{},{ui:"banner_slider_tile",result:[e.result]}):e}))}var v=n(36),h=(n(34),n(3)),m=(n(163),n(24),n(57),{name:"VideoModal",components:{BsModal:h.BsModal,BsButton:h.BsButton},props:{show:{type:Boolean,default:!1},video:{type:Object,default:null,required:!0}},computed:{coverSrc:function(){var e,t,n=this.video.cover,o=(null===(e=this.video.cover)||void 0===e?void 0:e.mobile)||n,r=(null===(t=this.video.cover)||void 0===t?void 0:t.desktop)||n;return this.$isMobileScreen?o:r},videoSrc:function(){var e,t,n=this.video.video,o=(null===(e=this.video.video)||void 0===e?void 0:e.mobile)||n,r=(null===(t=this.video.video)||void 0===t?void 0:t.desktop)||n;return this.$isMobileScreen?o:r}},methods:{close:function(){this.$emit("update:show",!1)},openLink:function(){this.video.link.startsWith("/")?this.$router.push(this.video.link):this.video.link.startsWith("https://basalam.com")?this.$router.push(this.video.link.replace("https://basalam.com","")||"/"):window.open(this.video.link,"_blank")}}}),f=(n(1615),n(2)),_=Object(f.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BsModal",{attrs:{show:e.show,size:"sm","cache-content":!1,"full-screen":"phone"},on:{close:e.close},scopedSlots:e._u([{key:"footer",fn:function(){return[n("div",{staticClass:"video-modal__footer"},[e.video.link?n("BsButton",{staticClass:"video-modal__footer-btn",attrs:{label:e.video.link_title,variant:"outline"},on:{click:e.openLink}}):e._e(),e._v(" "),n("BsButton",{staticClass:"video-modal__footer-btn",attrs:{label:"بستن",variant:"outline",color:"neutral"},on:{click:e.close}})],1)]},proxy:!0}])},[n("div",{staticClass:"video-modal__body"},[n("video",{staticClass:"video-modal__body-video",attrs:{src:e.videoSrc,poster:e.coverSrc,controls:"",autoplay:""}}),e._v(" "),n("span",{staticClass:"video-modal__body-title"},[e._v(e._s(e.video.title))]),e._v(" "),n("div",{staticClass:"video-modal__body-description"},[n("p",{staticClass:"video-modal__body-description-text"},[e._v(e._s(e.video.description))])])])])}),[],!1,null,"2f6ac702",null).exports,x={name:"TileSkeleton",components:{BsSkeleton:h.BsSkeleton},props:{show:{type:Boolean,default:!0}}},y=(n(1616),Object(f.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Transition",{attrs:{name:"fade"}},[e.show?n("BsSkeleton",{staticClass:"tile-skeleton"}):e._e()],1)}),[],!1,null,"2448bff2",null).exports),w={name:"VideoTile",components:{BsBox:h.BsBox,VideoModal:_,TileSkeleton:y},props:{video:{type:Object,default:null,required:!0},playable:{type:Boolean,default:!0}},data:function(){return{isPlaying:!1,isShowModal:!1,isShowSkeleton:!0,isExpandingSubtitle:!1}},computed:{coverSrc:function(){var e,t,n=this.video.cover,o=(null===(e=this.video.cover)||void 0===e?void 0:e.mobile)||n,r=(null===(t=this.video.cover)||void 0===t?void 0:t.desktop)||n;return this.$isMobileScreen?o:r},videoSrc:function(){var e,t,n=this.video.video,o=(null===(e=this.video.video)||void 0===e?void 0:e.mobile)||n,r=(null===(t=this.video.video)||void 0===t?void 0:t.desktop)||n;return this.$isMobileScreen?o:r}},watch:{playable:function(e){e||this.pause()}},mounted:function(){this.setEventListeners()},methods:{play:function(){var e;this.playable&&(this.video.is_modal_play?this.isShowModal=!0:(this.isPlaying=!0,null===(e=this.$refs.video)||void 0===e||e.play()))},pause:function(){var e;null===(e=this.$refs.video)||void 0===e||e.pause()},setEventListeners:function(){var e,t,n=this;null===(e=this.$refs.video)||void 0===e||e.addEventListener("play",(function(){n.isPlaying=!0,n.$emit("play")})),null===(t=this.$refs.video)||void 0===t||t.addEventListener("pause",(function(){n.isPlaying=!1,n.$emit("pause")}))},toggleExpandSubtitle:function(e){this.$isMobileScreen&&(e.stopPropagation(),this.isExpandingSubtitle=!this.isExpandingSubtitle)},hideSkeleton:function(){this.isShowSkeleton=!1}}},C=(n(1617),Object(f.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video-tile"},[n("Transition",{attrs:{name:"fade"}},[n("img",{directives:[{name:"show",rawName:"v-show",value:!e.isPlaying,expression:"!isPlaying"}],staticClass:"video-tile__image",attrs:{src:e.coverSrc},on:{load:e.hideSkeleton,click:e.play}})]),e._v(" "),n("Transition",{attrs:{name:"fade"}},[n("video",{directives:[{name:"show",rawName:"v-show",value:e.isPlaying,expression:"isPlaying"}],ref:"video",staticClass:"video-tile__video",attrs:{src:e.videoSrc,poster:e.coverSrc,controls:""}})]),e._v(" "),e.video.title&&!e.isPlaying?n("div",{staticClass:"video-tile__content",on:{click:e.toggleExpandSubtitle}},[n("div",{staticClass:"video-tile__content-texts"},[n("BsBox",{attrs:{display:"flex","align-items":"center","justify-content":"space-between"}},[n("span",{staticClass:"video-tile__content-texts-title"},[e._v(e._s(e.video.title))]),e._v(" "),e.$isMobileScreen?n("i",{staticClass:"bi-angle-up video-tile__content-texts-toggle",class:{"video-tile__content-texts-toggle--expanded":e.isExpandingSubtitle}}):e._e()]),e._v(" "),n("span",{staticClass:"video-tile__content-texts-subtitle",class:{"video-tile__content-texts-subtitle--expanded":e.isExpandingSubtitle}},[e._v("\n        "+e._s(e.video.subtitle)+"\n      ")])],1)]):e._e(),e._v(" "),e.isPlaying?e._e():n("button",{staticClass:"video-tile__play",on:{click:e.play}},[n("i",{staticClass:"bi-play video-tile__play-icon"})]),e._v(" "),n("VideoModal",{attrs:{show:e.isShowModal,video:e.video},on:{"update:show":function(t){e.isShowModal=t}}}),e._v(" "),n("TileSkeleton",{attrs:{show:e.isShowSkeleton}})],1)}),[],!1,null,"0e5b0310",null).exports),S={name:"BannerTile",components:{TileSkeleton:y},props:{banner:{type:Object,default:null,required:!0}},data:function(){return{isShowSkeleton:!0}},computed:{bannerSrc:function(){var e,t,n=this.banner.image,o=(null===(e=this.banner.image)||void 0===e?void 0:e.mobile)||n,r=(null===(t=this.banner.image)||void 0===t?void 0:t.desktop)||n;return this.$isMobileScreen?o:r}},methods:{hideSkeleton:function(){this.isShowSkeleton=!1}}},k=(n(1618),Object(f.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.banner.link?"a":"div",{tag:"Component",staticClass:"banner-tile",attrs:{href:e.banner.link}},[n("img",{staticClass:"banner-tile__image",attrs:{src:e.bannerSrc},on:{load:e.hideSkeleton}}),e._v(" "),e.banner.title?n("div",{staticClass:"banner-tile__content"},[n("span",{staticClass:"banner-tile__content-title"},[e._v(e._s(e.banner.title))])]):e._e(),e._v(" "),n("TileSkeleton",{attrs:{show:e.isShowSkeleton}})],1)}),[],!1,null,"58fd84e6",null).exports),P=n(77),B={name:"ProductTile",components:{TileSkeleton:y},props:{product:{type:Object,default:null,required:!0}},data:function(){return{isShowSkeleton:!0}},computed:{productPrice:function(){return Object(P.numberSeparator)(Object(P.rialToToman)(this.product.price))}},methods:{hideSkeleton:function(){this.isShowSkeleton=!1}}},$=(n(1619),Object(f.a)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NuxtLink",{staticClass:"product-tile",attrs:{to:"/discovery/"+e.product.id}},[n("img",{staticClass:"product-tile__image",attrs:{src:e.product.photo.MEDIUM,alt:e.product.name},on:{load:e.hideSkeleton}}),e._v(" "),n("div",{staticClass:"product-tile__content"},[n("span",{staticClass:"product-tile__content-price"},[e._v("\n      "+e._s(e.productPrice)+"\n      "),n("i",{staticClass:"bi-toman"})])]),e._v(" "),n("TileSkeleton",{attrs:{show:e.isShowSkeleton}})],1)}),[],!1,null,"500e6271",null).exports),T=(n(43),{name:"TileContainer",props:{column:{type:Number,default:1},row:{type:Number,default:1}},computed:{_column:function(){return this.$isMobileScreen&&this.column>2?2:this.column},styles:function(){return{"grid-row":"span ".concat(this.row),"grid-column":"span ".concat(this._column),"padding-bottom":"calc(".concat(this.row/this._column*100,"% - ").concat(8*Math.min(this.row/this._column,1)*(this._column-this.row),"px)"),"animation-delay":"".concat(Math.ceil(300*Math.random()),"ms")}}}}),E=(n(1620),Object(f.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tile",style:e.styles},[n("div",{staticClass:"tile__content"},[e._t("default")],2)])}),[],!1,null,"54dd8245",null).exports),D={name:"PlainVideoTile",components:{BsButton:h.BsButton,TileSkeleton:y},props:{video:{type:Object,default:null,required:!0},playable:{type:Boolean,default:!0}},data:function(){return{isPlaying:!1,isShowSkeleton:!0}},computed:{coverSrc:function(){var e,t,n=this.video.cover,o=(null===(e=this.video.cover)||void 0===e?void 0:e.mobile)||n,r=(null===(t=this.video.cover)||void 0===t?void 0:t.desktop)||n;return this.$isMobileScreen?o:r},videoSrc:function(){var e,t,n=this.video.video,o=(null===(e=this.video.video)||void 0===e?void 0:e.mobile)||n,r=(null===(t=this.video.video)||void 0===t?void 0:t.desktop)||n;return this.$isMobileScreen?o:r}},watch:{playable:function(e){e||this.pause()}},mounted:function(){this.setEventListeners()},methods:{hideSkeleton:function(){this.isShowSkeleton=!1},play:function(){var e;this.playable&&(this.isPlaying=!0,null===(e=this.$refs.video)||void 0===e||e.play())},pause:function(){var e;null===(e=this.$refs.video)||void 0===e||e.pause()},setEventListeners:function(){var e,t,n=this;null===(e=this.$refs.video)||void 0===e||e.addEventListener("play",(function(){n.isPlaying=!0,n.$emit("play")})),null===(t=this.$refs.video)||void 0===t||t.addEventListener("pause",(function(){n.isPlaying=!1,n.$emit("pause")}))}}},L=(n(1621),Object(f.a)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"plain-video-tile"},[n("Transition",{attrs:{name:"fade"}},[n("img",{directives:[{name:"show",rawName:"v-show",value:!e.isPlaying,expression:"!isPlaying"}],staticClass:"plain-video-tile__cover",attrs:{src:e.coverSrc},on:{load:e.hideSkeleton,click:e.play}})]),e._v(" "),n("Transition",{attrs:{name:"fade"}},[n("video",{directives:[{name:"show",rawName:"v-show",value:e.isPlaying,expression:"isPlaying"}],ref:"video",staticClass:"plain-video-tile__video",attrs:{src:e.videoSrc,poster:e.coverSrc,controls:""}})]),e._v(" "),e.isPlaying?e._e():n("BsButton",{staticClass:"plain-video-tile__play",attrs:{"center-icon":"bi bi-play",square:"",size:e.$isMobileScreen?"sm":"xl",color:"black",variant:"outline"},on:{click:e.play}}),e._v(" "),n("TileSkeleton",{attrs:{show:e.isShowSkeleton}})],1)}),[],!1,null,"f5cbb6f2",null).exports),O=(n(29),n(337)),j={name:"NavigationTile",components:{Swiper:O.a,BsButton:h.BsButton},props:{items:{type:Array,default:null,required:!0}},data:function(){return{nextEl:null,prevEl:null,isShowSkeleton:!0}},computed:{swiperProps:function(){return{showNavigation:!1,showPagination:!1,disableInMobile:!1,options:{breakpoints:{320:{slidesPerView:2,spaceBetween:8},768:{slidesPerView:6,spaceBetween:8}},navigation:{nextEl:this.nextEl,prevEl:this.prevEl}}}}},mounted:function(){var e,t,n=this;this.nextEl=null===(e=this.$el)||void 0===e?void 0:e.querySelector(".navigation-tile__next"),this.prevEl=null===(t=this.$el)||void 0===t?void 0:t.querySelector(".navigation-tile__prev"),this.$nextTick((function(){n.$refs.swiper.init()})),setTimeout(this.hideSkeleton,1e3)},methods:{hideSkeleton:function(){this.isShowSkeleton=!1}}},M=(n(1622),Object(f.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navigation-tile"},[n("BsButton",{staticClass:"navigation-tile__next",attrs:{color:"black",variant:"outline","center-icon":"bi bi-angle-left",size:e.$isMobileScreen?"xs":"lg",square:""}}),e._v(" "),n("BsButton",{staticClass:"navigation-tile__prev",attrs:{color:"black",variant:"outline","center-icon":"bi bi-angle-right",size:e.$isMobileScreen?"xs":"lg",square:""}}),e._v(" "),n("Swiper",e._b({ref:"swiper",staticClass:"items-slider navigation-tile__slider"},"Swiper",e.swiperProps,!1),e._l(e.items,(function(t,o){return n("div",{key:o,staticClass:"swiper-slide"},[n("a",{staticClass:"navigation-tile__slider-item",attrs:{href:t.metadata.link}},[n("img",{staticClass:"navigation-tile__slider-item-icon",attrs:{src:t.metadata.icon,alt:t.metadata.title}}),e._v(" "),n("span",{staticClass:"navigation-tile__slider-item-title"},[e._v(e._s(t.metadata.title))])])])})),0)],1)}),[],!1,null,"024cb8de",null).exports),I={name:"VideoSliderTile",components:{BsBox:h.BsBox,Swiper:O.a,VideoTile:C},props:{videos:{type:Array,default:null,required:!0}},data:function(){return{swiper:null,nextEl:null,prevEl:null,isPlaying:!1}},computed:{swiperProps:function(){return{showNavigation:!1,showPagination:!1,disableInMobile:!1,options:{navigation:{nextEl:this.nextEl,prevEl:this.prevEl},breakpoints:{320:{slidesPerView:1,spaceBetween:0}}}}},swiperActiveSlide:function(){var e;return(null===(e=this.swiper)||void 0===e?void 0:e.activeIndex)||0}},mounted:function(){var e=this;this.nextEl=this.$el.querySelector(".video-slider-tile__header-next"),this.prevEl=this.$el.querySelector(".video-slider-tile__header-prev"),this.$nextTick((function(){e.$refs.swiper.init()}))},methods:{initSwiper:function(e){this.swiper=e},handlePlay:function(){this.isPlaying=!0},handlePause:function(){this.isPlaying=!1}}},U=(n(1623),n(1624),Object(f.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video-slider-tile"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPlaying,expression:"!isPlaying"}],staticClass:"video-slider-tile__header"},[n("span",{staticClass:"video-slider-tile__header-index"},[e._v("\n      "+e._s(e.swiperActiveSlide+1)+"/"+e._s(e.videos.length)+"\n    ")]),e._v(" "),n("BsBox",{attrs:{display:"flex","align-items":"center","justify-content":"flex-end"}},[n("button",{staticClass:"video-slider-tile__header-prev"},[n("i",{staticClass:"bi-angle-right"})]),e._v(" "),n("button",{staticClass:"video-slider-tile__header-next"},[n("i",{staticClass:"bi-angle-left"})])])],1),e._v(" "),n("Swiper",e._b({ref:"swiper",staticClass:"items-slider",on:{init:e.initSwiper}},"Swiper",e.swiperProps,!1),e._l(e.videos,(function(video,t){return n("VideoTile",{key:t,staticClass:"swiper-slide",attrs:{video:video.metadata,playable:e.swiperActiveSlide===t},on:{play:e.handlePlay,pause:e.handlePause}})})),1)],1)}),[],!1,null,"45fcfe24",null).exports),z=n(338),Q={name:"BannerSliderTile",components:{Swiper:O.a,BsButton:h.BsButton,BannerTile:k},props:{banners:{type:Array,default:null,required:!0}},data:function(){return{nextEl:null,prevEl:null}},head:function(){var e,t,n,o,r=null===(e=this.banners)||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.metadata)||void 0===n||null===(o=n.image)||void 0===o?void 0:o[this.$isMobileScreen?"mobile":"desktop"];return r?{link:[{rel:"preload",as:"image",href:r}]}:{}},computed:{swiperProps:function(){return{showNavigation:!1,showPagination:!0,disableInMobile:!1,options:{breakpoints:{320:{slidesPerView:1,spaceBetween:0}},navigation:{nextEl:this.nextEl,prevEl:this.prevEl}}}}},mounted:function(){var e,t,n=this;this.nextEl=null===(e=this.$el)||void 0===e?void 0:e.querySelector(".banner-slider-tile__next"),this.prevEl=null===(t=this.$el)||void 0===t?void 0:t.querySelector(".banner-slider-tile__prev"),this.$nextTick((function(){n.$refs.swiper.init()}))}},V=(n(1625),Object(f.a)(Q,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"banner-slider-tile"},[n("BsButton",{staticClass:"banner-slider-tile__next",attrs:{color:"black",variant:"outline","center-icon":"bi bi-angle-left",size:e.$isMobileScreen?"xs":"lg",square:""}}),e._v(" "),n("BsButton",{staticClass:"banner-slider-tile__prev",attrs:{color:"black",variant:"outline","center-icon":"bi bi-angle-right",size:e.$isMobileScreen?"xs":"lg",square:""}}),e._v(" "),n("Swiper",e._b({ref:"swiper",staticClass:"items-slider banner-slider-tile__slider"},"Swiper",e.swiperProps,!1),e._l(e.banners,(function(e,t){return n("div",{key:t,staticClass:"swiper-slide"},[n("BannerTile",{attrs:{banner:e.metadata}})],1)})),0)],1)}),[],!1,null,"00b3b93b",null).exports),R={name:"ProductSliderTile",components:{BsBox:h.BsBox,Swiper:O.a,TileSkeleton:y},props:{title:{type:String,default:null,required:!0},items:{type:Array,default:null,required:!0}},data:function(){return{isShowSkeleton:!0,nextEl:null,prevEl:null}},computed:{swiperProps:function(){return{showNavigation:!1,showPagination:!1,disableInMobile:!1,options:{breakpoints:{320:{slidesPerView:1,spaceBetween:0}},navigation:{nextEl:this.nextEl,prevEl:this.prevEl}}}}},mounted:function(){var e,t,n=this;this.nextEl=null===(e=this.$el)||void 0===e?void 0:e.querySelector(".product-slider-tile__header-next"),this.prevEl=null===(t=this.$el)||void 0===t?void 0:t.querySelector(".product-slider-tile__header-prev"),this.$nextTick((function(){n.$refs.swiper.init()}))},methods:{formatPrice:function(e){return Object(P.numberSeparator)(Object(P.rialToToman)(e))},hideSkeleton:function(){this.isShowSkeleton=!1}}},N=(n(1626),Object(f.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"product-slider-tile"},[n("div",{staticClass:"product-slider-tile__header"},[n("span",{staticClass:"product-slider-tile__header-title"},[e._v(e._s(e.title))]),e._v(" "),n("BsBox",{attrs:{display:"flex","algin-items":"center","justify-content":"flex-end"}},[n("button",{staticClass:"product-slider-tile__header-prev"},[n("i",{staticClass:"bi-angle-right"})]),e._v(" "),n("button",{staticClass:"product-slider-tile__header-next"},[n("i",{staticClass:"bi-angle-left"})])])],1),e._v(" "),n("Swiper",e._b({ref:"swiper",staticClass:"items-slider product-slider-tile__slider"},"Swiper",e.swiperProps,!1),e._l(e.items,(function(t){var o;return n("div",{key:t.id,staticClass:"swiper-slide"},[n("NuxtLink",{staticClass:"product-slider-tile__slider-item",attrs:{to:"/discovery/"+t.id}},[n("img",{staticClass:"product-slider-tile__slider-item-photo",attrs:{alt:t.name,src:null===(o=t.photo)||void 0===o?void 0:o.MEDIUM},on:{load:e.hideSkeleton}}),e._v(" "),n("div",{staticClass:"product-slider-tile__slider-item-info"},[n("span",{staticClass:"product-slider-tile__slider-item-info-name"},[e._v(e._s(t.name))]),e._v(" "),n("BsBox",{attrs:{display:"flex","align-items":"center","justify-content":"space-between"}},[t.rating?n("div",[n("i",{staticClass:"bi-star-fill"}),e._v(" "),n("span",{staticClass:"product-slider-tile__slider-item-info-rate"},[e._v("\n                "+e._s(t.rating.average)+"\n              ")]),e._v(" "),n("span",{staticClass:"product-slider-tile__slider-item-info-count"},[e._v("\n                ("+e._s(t.rating.count)+" نظر)\n              ")])]):e._e(),e._v(" "),n("div",[n("span",{staticClass:"product-slider-tile__slider-item-info-price"},[e._v("\n                "+e._s(e.formatPrice(t.price))+"\n              ")]),e._v(" "),n("i",{staticClass:"bi bi-toman"})])])],1)])],1)})),0),e._v(" "),n("TileSkeleton",{attrs:{show:e.isShowSkeleton}})],1)}),[],!1,null,"0e4c2f28",null).exports),G={name:"PlainVideoSlider",components:{Swiper:O.a,BsButton:h.BsButton,PlainVideoTile:L},props:{videos:{type:Array,default:null,required:!0},playable:{type:Boolean,default:!0}},data:function(){return{swiper:null,nextEl:null,prevEl:null,isPlaying:!1}},computed:{swiperProps:function(){return{showNavigation:!1,showPagination:!0,disableInMobile:!1,options:{breakpoints:{320:{slidesPerView:1,spaceBetween:0}},navigation:{nextEl:this.nextEl,prevEl:this.prevEl}}}},swiperActiveSlide:function(){var e;return(null===(e=this.swiper)||void 0===e?void 0:e.activeIndex)||0}},mounted:function(){var e,t,n=this;this.nextEl=null===(e=this.$el)||void 0===e?void 0:e.querySelector(".plain-video-slider-tile__next"),this.prevEl=null===(t=this.$el)||void 0===t?void 0:t.querySelector(".plain-video-slider-tile__prev"),this.$nextTick((function(){n.$refs.swiper.init()}))},methods:{initSwiper:function(e){this.swiper=e},handlePlay:function(){this.isPlaying=!0},handlePause:function(){this.isPlaying=!1}}},F=(n(1627),Object(f.a)(G,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"plain-video-slider-tile"},[e.isPlaying?e._e():n("BsButton",{staticClass:"plain-video-slider-tile__next",attrs:{color:"black",variant:"outline","center-icon":"bi bi-angle-left",size:e.$isMobileScreen?"xs":"lg",square:""}}),e._v(" "),e.isPlaying?e._e():n("BsButton",{staticClass:"plain-video-slider-tile__prev",attrs:{color:"black",variant:"outline","center-icon":"bi bi-angle-right",size:e.$isMobileScreen?"xs":"lg",square:""}}),e._v(" "),n("Swiper",e._b({ref:"swiper",staticClass:"items-slider plain-video-slider-tile__slider",on:{init:e.initSwiper}},"Swiper",e.swiperProps,!1),e._l(e.videos,(function(video,t){return n("div",{key:t,staticClass:"swiper-slide"},[n("PlainVideoTile",{attrs:{video:video.metadata,playable:e.swiperActiveSlide===t},on:{play:e.handlePlay,pause:e.handlePause}})],1)})),0)],1)}),[],!1,null,"2f567748",null).exports),A={name:"GridS",components:{BsBox:h.BsBox,BsLoading:h.BsLoading,VideoTile:C,BannerTile:k,ProductTile:$,BsContainer:h.BsContainer,TileContainer:E,PlainVideoTile:L,NavigationTile:M,VideoSliderTile:U,BannerSliderTile:V,ProductSliderTile:N,InfinitePagination:z.a,PlainVideoSliderTile:F},props:{pageData:{type:Array,required:!0}},data:function(){return{currentPage:1,items:this.pageData,isLoading:!1,totalPageCount:2}},mounted:function(){this.items=this.pageData},methods:{fetch:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o,r,l,c,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.isLoading){t.next=3;break}return t.abrupt("return");case 3:return e.isLoading=!0,o=12,12,r=e.items[e.items.length-1].rank,l=(null===(n=e.$store.getters["auth/currentUser"])||void 0===n?void 0:n.id)||0,t.next=10,e.$authGet("https://api.basalam.com/explore/api_v1.0/user/general/".concat(l,"?size=").concat(o,"&tab=home_tile&last_rank=").concat(r,"&item_size=").concat(12));case 10:c=t.sent,data=c.data,e.items=[].concat(Object(v.a)(e.items),Object(v.a)(d(data.items))),data.items.length===o&&e.totalPageCount++,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),e.$handleError(t.t0);case 19:return t.prev=19,e.isLoading=!1,t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[0,16,19,22]])})))()},getColumnSize:function(e){var t,n,o,r,l,c=(null===(t=e.meta_data.size)||void 0===t?void 0:t.column)||1,d=(null===(n=e.meta_data.size)||void 0===n||null===(o=n.mobile)||void 0===o?void 0:o.column)||c,v=(null===(r=e.meta_data.size)||void 0===r||null===(l=r.desktop)||void 0===l?void 0:l.column)||c;return this.$isMobileScreen?d:v},getRowSize:function(e){var t,n,o,r,l,c=(null===(t=e.meta_data.size)||void 0===t?void 0:t.row)||1,d=(null===(n=e.meta_data.size)||void 0===n||null===(o=n.mobile)||void 0===o?void 0:o.row)||c,v=(null===(r=e.meta_data.size)||void 0===r||null===(l=r.desktop)||void 0===l?void 0:l.row)||c;return this.$isMobileScreen?d:v}}},H=(n(1628),Object(f.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BsContainer",[n("div",{staticClass:"ggrid"},[e._l(e.items,(function(t,o){return e._l(t.result,(function(r,l){return n("TileContainer",{key:o+"-"+l,attrs:{column:e.getColumnSize(t),row:e.getRowSize(t)}},["banner_tile"===t.ui?n("BannerTile",{attrs:{banner:r.metadata}}):"banner_slider_tile"===t.ui?n("BannerSliderTile",{attrs:{banners:t.result[0]}}):"product_tiles"===t.ui?n("ProductTile",{attrs:{product:r}}):"video_tile"===t.ui?n("VideoTile",{attrs:{video:r.metadata}}):"video_slider_tile"===t.ui?n("VideoSliderTile",{attrs:{videos:t.result[0]}}):"navigation_tile"===t.ui?n("NavigationTile",{attrs:{items:t.result[0]}}):"product_slider_tile"===t.ui?n("ProductSliderTile",{attrs:{title:t.title,items:t.result[0]}}):"plain_video_tile"===t.ui?n("PlainVideoTile",{attrs:{video:t.result[0].metadata}}):"plain_video_slider_tile"===t.ui?n("PlainVideoSliderTile",{attrs:{videos:t.result[0]}}):e._e()],1)}))}))],2),e._v(" "),e.isLoading?n("BsBox",{attrs:{py:12}},[n("BsLoading")],1):n("InfinitePagination",{attrs:{mode:"infinite",fetch:e.fetch,page:e.currentPage,"total-page":e.totalPageCount},on:{"update:page":function(t){e.currentPage=t},"update:totalPage":function(t){e.totalPageCount=t},"update:total-page":function(t){e.totalPageCount=t}}})],1)}),[],!1,null,"09905419",null).exports),X=(n(219),n(1175)),Z=n(75),J={name:"SwitchPageView",components:{BsBox:h.BsBox,CesRate:X.a,BsButton:h.BsButton,BsToggle:h.BsToggle,BsContainer:h.BsContainer},props:{variant:{type:String,default:""}},data:function(){return{startX:0,show:!1,element:null,lastScrollPos:0,currentScrollPos:0,scrollTimeOut:null,isShowFeedbackBtn:!0,isShowFirsPageCesModal:!1,toggle:void 0!==this.$cookies.get("firstPageTiles")?this.$cookies.get("firstPageTiles"):!("tiles_with_switch"!==this.variant)}},computed:{title:function(){return this.toggle?"هنوزم می‌تونی صفحه اول قدیمی رو ببینی!":"می‌‌خوای نسخه اولیه صفحه اول جدید رو ببینی؟"},isLoggedIn:function(){return this.$store.getters["auth/isLoggedIn"]},logoSrc:function(){var e;return null===(e=this.$getFeatureValue("theme"))||void 0===e?void 0:e.logo},countToShow:function(){return this.$cookies.get("firstPageTilesCount")||0}},watch:{toggle:function(e){var t;this.show=!this.show,this.$cookies.set("firstPageTiles",e),this.$publishEvent((function(e){return e.toggle_home_theme_click}))({new_theme_name:e?"new":"old",type_of_user:this.$store.getters["auth/typeOfUser"],order_count:this.$store.getters["auth/orderCount"]}),null===(t=window)||void 0===t||t.location.reload()}},mounted:function(){var e=this;setTimeout((function(){e.countToShow<2&&(e.show=!0,e.$nextTick((function(){e.element=document.querySelector(".test-switch-page"),e.handleSetPosition()})))}),1e4),window.addEventListener("scroll",this.handleSetPosition)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleSetPosition)},methods:{handleSetPosition:function(){var e;if(this.element){clearTimeout(this.scrollTimeOut);this.currentScrollPos=window.scrollY,!(null===(e=document)||void 0===e||!e.querySelector(".trust-sticky"))&&this.currentScrollPos<35?Object(Z.a)(this.element,"test-switch-page--has-trust"):Object(Z.h)(this.element,"test-switch-page--has-trust"),this.currentScrollPos<this.lastScrollPos-120&&(Object(Z.h)(this.element,"go-top"),this.lastScrollPos=this.currentScrollPos),this.currentScrollPos>this.lastScrollPos+100&&this.currentScrollPos>35&&(Object(Z.a)(this.element,"go-top"),this.lastScrollPos=this.currentScrollPos)}},close:function(){this.show=!1,this.$cookies.set("firstPageTilesCount",this.countToShow+1)},drag:function(e){this.startX=e.clientX,window.addEventListener("mousemove",this.onMouseDrag)},leaveDrag:function(e){var t=document.getElementById("switch-box"),n=document.getElementById("switch-box").style.transform.match(/\d+/g);400<n||n<-400?this.close():t.style.transform="translateX(0px)",window.removeEventListener("mousemove",this.onMouseDrag)},onMouseDrag:function(e){document.getElementById("switch-box").style.transform="translateX(".concat(e.clientX-this.startX,"px)")},openFeedbackModal:function(){this.isShowFirsPageCesModal=!0},closeFeedbackModal:function(){this.isShowFirsPageCesModal=!1}}},W=(n(1629),Object(f.a)(J,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Transition",{attrs:{name:"slide"}},[e.show?n("div",{staticClass:"test-switch-page"},[n("BsContainer",[n("div",{staticClass:"test-switch-page__box",attrs:{id:"switch-box"},on:{mouseup:function(t){return t.preventDefault(),e.leaveDrag.apply(null,arguments)},mousedown:function(t){return t.preventDefault(),e.drag.apply(null,arguments)}}},[n("svg",{staticStyle:{height:"48px"},attrs:{viewBox:"0 0 86 120",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{fill:"var(--c-primary)",d:"M84.6 100.213C82.8 97.0126 77.9 96.8126 75.4 101.313C74.1 103.713 72.7 105.113 71.4 105.913L69.2 102.313L73.3 100.013L59.7 67.0126C60.4 66.4126 61.1 65.8126 61.7 65.1126C64.9 61.6126 68.5 55.2126 66.7 44.8126C66.1 41.7126 65.7 38.9126 67.3 36.4126C70.1 32.0126 68.7 28.7126 66.7 27.2126C63.1 24.5126 58.9 26.6126 56.6 29.0126L55.6 15.5126C55.4 12.8126 54.4 10.4126 52.8 9.01256C51.6 7.91256 50.1 7.41256 48.4 7.61256C47.4 7.71256 46.4 8.01256 45.7 8.51256V7.91256C45.5 5.21256 44.4 2.81256 42.8 1.41256C41.6 0.41256 40.1 -0.0874415 38.5 0.0125585C35.2 0.312558 33 3.41256 32.5 6.71256C31.6 6.31256 30.6 6.11256 29.5 6.21256C25.1 6.61256 23.1 11.0126 23.4 15.0126L23.9 21.4126C23.2 21.2126 22.5 21.1126 21.8 21.2126C18.2 21.6126 16 25.0126 16.4 29.8126L17.8 50.0126V50.4126V50.5126C18.6 60.2126 22.6 65.7126 26.3 68.9126C26.4 70.1126 26.4 72.9126 25.5 76.2126C23.8 82.0126 19.7 86.3126 13.5 88.8126L11.8 89.4126L0 93.0126L3.59998 104.913L7 104.513C6 106.713 5.2 110.113 6.5 114.813C7.7 118.913 11.3 119.413 13.3 118.413C16 117.113 17.4 114.313 14.9 110.413C12.2 106.213 13 104.413 13.8 103.713L14.2 103.613L15.2 106.913L16.6 107.013C17.5 107.113 18.5 107.113 19.3 107.113C37.8 107.113 42.6 95.0126 42.8 94.4126C43.2 93.4126 42.7 92.2126 41.6 91.8126C40.6 91.4126 39.4 91.9126 39 93.0126C39 93.1126 34.8 103.613 18.1 103.113L16.5 98.0126L14.8 92.5126C27.3 87.3126 29.7 77.2126 30.1 71.6126C31.7 72.4126 32.8 72.7126 32.8 72.7126C32.9 72.7126 33.1 72.7126 33.2 72.7126C34.1 72.7126 34.9 72.1126 35.1 71.1126C35.3 70.0126 34.7 69.0126 33.6 68.7126C33.5 68.7126 22.6 65.6126 21.5 49.6126L20.3 29.6126C20.3 29.2126 20.1 25.5126 22.2 25.2126C22.4 25.2126 22.6 25.2126 22.9 25.5126C23.7 26.1126 24.3 27.7126 24.4 29.3126L25.3 41.5126C25.4 42.6126 26.3 43.4126 27.4 43.3126C28.5 43.2126 29.3 42.3126 29.2 41.2126L28.5 31.1126L27.3 14.8126C27.2 13.1126 27.7 10.4126 29.8 10.2126C30.4 10.1126 30.8 10.3126 31.2 10.6126C32 11.3126 32.6 12.8126 32.7 14.4126L34.1 33.6126C34.2 34.6126 35 35.4126 36.1 35.4126H36.2C37.3 35.3126 38.1 34.4126 38 33.3126L36.3 8.51256C36.1 6.41256 37.4 4.01256 38.8 3.91256C39.3 3.81256 39.8 4.01256 40.2 4.31256C41 5.01256 41.6 6.51256 41.7 8.11256L43.4 32.9126C43.5 34.0126 44.4 34.8126 45.5 34.7126C46.6 34.6126 47.4 33.7126 47.3 32.6126L46.1 16.1126C46.1 16.1126 46.1 16.1126 46.1 16.0126C46 14.3126 46.5 11.6126 48.6 11.4126C49.2 11.4126 49.7 11.5126 50.1 11.9126C50.9 12.6126 51.4 14.0126 51.5 15.6126L53.2 40.3126L53.6 45.3126C53.6 45.4126 53.6 45.4126 53.6 45.5126V45.6126C53.6 45.7126 53.7 45.8126 53.7 45.9126C54 46.5126 54.5 46.9126 55.2 47.0126H55.3C55.4 47.0126 55.5 47.0126 55.5 47.0126C55.5 47.0126 55.5 47.0126 55.6 47.0126C55.7 47.0126 55.7 47.0126 55.8 47.0126C55.9 47.0126 55.9 47.0126 56 47.0126C56.1 47.0126 56.1 47.0126 56.2 46.9126C56.3 46.9126 56.3 46.9126 56.4 46.8126C56.5 46.8126 56.5 46.7126 56.6 46.7126C56.7 46.7126 56.7 46.6126 56.8 46.6126L56.9 46.5126L57 46.4126L57.1 46.3126C57.1 46.2126 57.2 46.2126 57.2 46.1126C57.2 46.0126 57.3 46.0126 57.3 45.9126C57.3 45.8126 57.4 45.8126 57.4 45.7126C57.4 45.6126 57.4 45.6126 57.5 45.5126C57.5 45.4126 57.5 45.4126 57.5 45.3126C57.5 45.2126 57.5 45.2126 57.5 45.1126C57.5 45.0126 57.5 45.0126 57.5 44.9126C57.5 44.1126 57.3 42.3126 57.2 41.0126L57.1 39.9126C56.9 36.4126 57.4 33.7126 58.7 32.1126C59.3 31.3126 62 28.6126 64 30.2126C64.9 30.9126 64.7 32.3126 63.6 34.2126C61.1 38.2126 61.9 42.5126 62.5 45.4126C63.9 54.1126 61.1 59.4126 58.4 62.3126C57.6 63.1126 56.8 63.9126 55.9 64.5126C55.8 64.6126 55.6 64.7126 55.5 64.8126C52.8 66.6126 49.8 67.4126 47.7 67.2126C46.6 67.1126 45.7 67.9126 45.6 69.0126C45.5 70.1126 46.3 71.0126 47.4 71.1126C47.7 71.1126 48 71.1126 48.3 71.1126C50.8 71.1126 53.4 70.4126 55.9 69.1126L64.7 90.4126C64.3 91.2126 63.2 92.8126 60 93.5126C58.9 93.7126 58.2 94.8126 58.4 95.8126C58.6 96.7126 59.4 97.4126 60.3 97.4126C60.4 97.4126 60.6 97.4126 60.7 97.4126C63.4 96.9126 65.2 95.8126 66.4 94.6126L67.8 98.1126L66.6 98.7126L61.4 101.613L58.1 103.413L39 77.9126C38.3 77.0126 37.1 76.8126 36.2 77.5126C35.3 78.2126 35.1 79.4126 35.8 80.3126L54.6 105.413L64.8 119.113L75.3 113.213L73.8 110.713C76 110.313 78.5 109.513 80.9 107.913C85.5 105.413 85.6 101.913 84.6 100.213Z"}}),e._v(" "),n("path",{attrs:{fill:"var(--c-primary)",d:"M34.1981 90.2133C34.1981 91.6133 33.1981 92.5133 32.2981 92.6133C31.1981 92.8133 30.4981 93.8133 30.6981 94.9133C30.8981 95.9133 31.6981 96.5133 32.5981 96.5133C32.6981 96.5133 32.7981 96.5133 32.9981 96.5133C36.0981 95.9133 38.1981 93.2133 38.1981 90.1133C38.1981 89.0133 37.2981 88.1133 36.1981 88.1133C34.9981 88.2133 34.1981 89.1133 34.1981 90.2133Z"}}),e._v(" "),n("path",{attrs:{fill:"var(--c-primary)",d:"M35.5013 40.9124C34.5013 41.2124 33.8013 42.7124 34.1013 44.3124C34.4013 45.9124 35.5013 46.9124 36.5013 46.6124C37.5013 46.3124 38.2013 44.8124 37.9013 43.2124C37.6013 41.6124 36.5013 40.6124 35.5013 40.9124Z"}}),e._v(" "),n("path",{attrs:{fill:"var(--c-primary)",d:"M49.5013 46.6124C50.5013 46.3124 51.2013 44.8124 50.9013 43.2124C50.6013 41.6124 49.5013 40.6124 48.5013 40.9124C47.5013 41.2124 46.8013 42.7124 47.1013 44.3124C47.4013 45.8124 48.5013 46.8124 49.5013 46.6124Z"}}),e._v(" "),n("path",{attrs:{fill:"var(--c-primary)",d:"M38.1999 55.4135C38.2999 56.4135 39.1999 57.2135 40.1999 57.2135C40.2999 57.2135 40.2998 57.2135 40.3998 57.2135L46.9999 56.5135L44.6999 46.3135C44.4999 45.2135 43.3998 44.6135 42.2998 44.8135C41.1998 45.0135 40.5998 46.1135 40.7998 47.2135L42.0998 53.1135L39.8998 53.3135C38.8998 53.3135 38.0999 54.3135 38.1999 55.4135Z"}}),e._v(" "),n("path",{attrs:{fill:"var(--c-primary)",d:"M36.8009 61.8134C36.2009 62.7134 36.6009 64.0134 37.5009 64.5134C39.2009 65.5134 41.0009 66.0134 42.8009 66.0134C46.4009 66.0134 49.9009 64.1134 51.9009 60.8134C52.5009 59.9134 52.1009 58.6134 51.2009 58.1134C50.3009 57.5134 49.0009 57.9134 48.5009 58.8134C46.7009 61.9134 42.6009 63.0134 39.5009 61.1134C38.6009 60.5134 37.4009 60.9134 36.8009 61.8134Z"}})]),e._v(" "),n("div",[n("div",{staticClass:"test-switch-page__title-row"},[n("p",{staticClass:"test-switch-page__title"},[e._v(e._s(e.title))]),e._v(" "),n("i",{staticClass:"bi bi-close",on:{click:e.close}})]),e._v(" "),n("BsBox",{attrs:{display:"flex","justify-content":"space-between"}},[n("BsBox",{attrs:{display:"flex"}},[n("span",{staticClass:"test-switch-page__label"},[e._v("جدید")]),e._v(" "),n("BsToggle",{model:{value:e.toggle,callback:function(t){e.toggle=t},expression:"toggle"}}),e._v(" "),n("span",{staticClass:"test-switch-page__label"},[e._v("قدیم")])],1),e._v(" "),e.isShowFeedbackBtn&&e.isLoggedIn?n("BsButton",{attrs:{size:"sm",color:"black",variant:"text",label:"بازخورد","side-icon":"bi bi-feedback"},on:{click:e.openFeedbackModal}}):e._e()],1)],1)])]),e._v(" "),n("CesRate",{attrs:{"is-show":e.isShowFirsPageCesModal,question:{rate:"چقدر از صفحه اول جدید  راضی هستی؟",description:"هر نظر دیگه‌ای داری با ما در میون بذار.",minText:"خیلی بده",maxText:"خیلی خوبه"},type:7,name:"first-page","success-text":"به خاطر نظر ارزشمندتان ممنونیم :)"},on:{close:e.closeFeedbackModal}})],1):e._e()])}),[],!1,null,"aaba35c2",null)),Y=W.exports,K=(n(52),n(58),n(108),n(121),{fetchData:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var cursor,section,o,r,l,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(cursor=e.cursor,section=e.section,o=e.authPost,r=e.authGet,l=e.requestUrl,c=e.size,!section){n.next=7;break}return n.next=4,t.fetchExploreSection(l,o,cursor,c);case 4:n.t0=n.sent,n.next=10;break;case 7:return n.next=9,t.fetchExplore(l,r);case 9:n.t0=n.sent;case 10:return n.abrupt("return",n.t0);case 11:case"end":return n.stop()}}),n)})))()},fetchExploreSection:function(e,t,cursor,n){return Object(o.a)(regeneratorRuntime.mark((function o(){var r,l,c,d,v,meta,h,m;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t(e,{cursor:cursor,size:n});case 2:return c=o.sent,d=c.data,v=d.items,meta=d.meta,h=null==meta?void 0:meta.cursor,m=v&&v[0]?null===(r=v[0])||void 0===r||null===(l=r.result)||void 0===l?void 0:l.length:0,o.abrupt("return",{cursor:h,lastCount:m,items:v});case 9:case"end":return o.stop()}}),o)})))()},fetchExplore:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r,l,c,meta,d,v,h,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(e);case 2:return o=n.sent,r=o.data,l=r.tabs_data,c=r.items,meta=r.meta,d=l,v=meta.last_rank,h=meta.active_tab,m=c.length,n.abrupt("return",{tabs:d,items:c,lastCount:m,activeTab:h,lastRank:v});case 12:case"end":return n.stop()}}),n)})))()}}),ee={name:"ExploreHomePage",components:{SeoMarkdown:function(){return Promise.all([n.e(1),n.e(152)]).then(n.bind(null,1006))},ComponentLoader:n(1091).a,InfinitePagination:z.a},props:{pageData:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{currentPage:1,isLoading:!1}},computed:{totalPage:function(){return this.pageData.lastCount<this.pageData.size?this.currentPage||1:this.currentPage+1},tabData:function(){var e,t,n,o,r,data=this.pageData.tabs[this.pageData.tab||this.pageData.activeTab]||{};return{title:(null==data||null===(e=data.metadata)||void 0===e||null===(t=e.page)||void 0===t?void 0:t.title)||data.title,description:null==data||null===(n=data.metadata)||void 0===n||null===(o=n.page)||void 0===o?void 0:o.description,seo:(null==data||null===(r=data.metadata)||void 0===r?void 0:r.seo)||{}}},userId:function(){return this.$store.getters["auth/userId"]||0},exploreURL:function(){return this.promotion?this.$exploreUrl.promotion(this.userId,this.pageData.exploreQuery):this.pageData.landing?this.$exploreUrl.landing(this.userId,this.pageData.exploreQuery):this.pageData.category?this.$exploreUrl.taxonomy(this.userId,this.pageData.exploreQuery):this.pageData.vendor?this.$exploreUrl.vendor(this.userId,this.pageData.exploreQuery):this.pageData.editorsChoice?this.$exploreUrl.editorsChoice(this.userId,this.pageData.exploreQuery):this.pageData.ads?this.$exploreUrl.ads(this.userId,this.pageData.exploreQuery):this.pageData.city?this.$exploreUrl.city(this.userId,this.pageData.exploreQuery):this.pageData.about?this.$exploreUrl.about(this.userId,this.pageData.exploreQuery):this.pageData.guide?this.$exploreUrl.guide(this.userId,this.pageData.exploreQuery):this.pageData.vendorGuide?this.$exploreUrl.vendorGuide(this.userId,this.pageData.exploreQuery):this.$exploreUrl.general(this.userId,this.pageData.exploreQuery)},headTitle:function(){var e;return this.tabData.title||(null===(e=this.pageData.exploreSections[0])||void 0===e?void 0:e.title)}},mounted:function(){var e=this;this.$route.params.category&&setTimeout((function(){e.$publishEvent((function(e){return e.category_view}))({order_count:e.$store.getters["auth/orderCount"],type_of_user:e.$store.getters["auth/typeOfUser"],category_id:+e.activeTab.split("-")[1],category_name:e.tabData.title})}),1e3)},methods:{fetchData:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,cursor,o,r,l,c,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,e.isLoading=!0,e.pageData.error=!1,t.next=7,K.fetchData({size:e.pageData.size,cursor:e.pageData.cursor,section:e.pageData.section,authPost:e.$authPost,authGet:e.$authGet,requestUrl:e.pageData.section?e.pageData.exploreSectionURL:e.exploreURL});case 7:n=t.sent,cursor=n.cursor,o=n.lastCount,r=n.tabs,l=n.items,c=n.activeTab,d=n.lastRank,e.pageData.tabs=r||{},d&&(e.pageData.exploreQuery.last_rank=d),e.pageData.exploreSections.length||(e.pageData.showInfinite=!0),e.pageData.activeTab=c,e.pageData.lastCount=o,e.pageData.cursor=cursor,e.pageData.section?e.pageData.exploreSections.length?e.pageData.exploreSections[0].result=e.pageData.exploreSections[0].result.concat(l[0].result):e.pageData.exploreSections=l:e.pageData.exploreSections=[].concat(Object(v.a)(e.pageData.exploreSections),Object(v.a)(l)),t.next=27;break;case 23:throw t.prev=23,t.t0=t.catch(2),e.pageData.exploreSections.length||(e.pageData.error=!0),e.$handleError(t.t0);case 27:return t.prev=27,e.isLoading=!1,t.finish(27);case 30:case"end":return t.stop()}}),t,null,[[2,23,27,30]])})))()}}},te=Object(f.a)(ee,(function(){var e,t,n=this,o=n.$createElement,r=n._self._c||o;return r("div",{class:["mb-6","mt-4","yalda99"==n.pageData.activeTab?"yalda":""]},[n.pageData.exploreSections?[r("ComponentLoader",{attrs:{"page-data":n.pageData.exploreSections}})]:n._e(),n._v(" "),null!==(e=n.tabData)&&void 0!==e&&null!==(t=e.seo)&&void 0!==t&&t.text?[r("SeoMarkdown",{attrs:{source:n.tabData.seo.text}})]:n._e(),n._v(" "),n.isLoading?r("div",[r("div",{staticClass:"spinner spinner--medium spinner--tprimary my-2 mx-auto"})]):n.pageData.error?r("div",{staticClass:"d-flex justify-content-center"},[r("Retry",{on:{retry:n.fetchData}})],1):n.pageData.showInfinite?r("InfinitePagination",{attrs:{mode:"infinite",fetch:n.fetchData,page:n.currentPage,"total-page":n.totalPage},on:{"update:page":function(e){n.currentPage=e},"update:totalPage":function(e){n.totalPage=e},"update:total-page":function(e){n.totalPage=e}}}):n._e()],2)}),[],!1,null,null,null).exports;n(20),n(98);function ie(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function se(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ie(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ie(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function ne(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,o,r,l,c,d,v,h,m,f,_,x,y,data,w,C,S,k,P,cursor,B,$,T,E,D,L;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params,o=t.route,r=t.error,l=t.store,c=t.app,d=t.$handleError,v=t.$cookies,h=l.getters["auth/isLoggedIn"],m=l.getters["auth/currentUser"],f=!1,_=!!v.get("accessToken"),x=h&&!f?l.getters["auth/userId"]||0:f&&_?1:0,(data={isLoggedIn:h,currentUser:m,size:y=f?6:12,cursor:null,lastCount:0,tabs:{},activeTab:null,tab:n.tab,city:n.city,about:n.about,guide:n.guide,vendor:n.vendor,section:n.section,landing:n.landing,category:n.category,promotion:n.promotion,editorsChoice:n.choice,ads:n.recommendation,vendorGuide:n.vendorGuide,exploreSectionURL:c.$exploreUrl.section(n.section,x),exploreQuery:{size:y,item_size:9}}).tab&&(data.exploreQuery.tab=data.tab),data.category&&(data.exploreQuery.tab=data.category),data.promotion&&(data.exploreQuery.tab=data.promotion),data.landing&&(data.exploreQuery.tab=data.landing),data.vendor&&(data.exploreQuery.tab=data.vendor),data.editorsChoice&&(data.exploreQuery.tab=data.editorsChoice),data.ads&&(data.exploreQuery.tab=data.ads),data.city&&(data.exploreQuery.tab=data.city),data.about&&(data.exploreQuery.tab=data.about),data.guide&&(data.exploreQuery.tab=data.guide),data.vendorGuide&&(data.exploreQuery.tab=data.vendorGuide),"index"===o.name&&(null!=o&&null!==(w=o.query)&&void 0!==w&&w.utm_source&&(data.exploreQuery.source=o.query.utm_source),null!=o&&null!==(C=o.query)&&void 0!==C&&C.utm_medium&&(data.exploreQuery.medium=o.query.utm_medium)),S=data.promotion?c.$exploreUrl.promotion(x,data.exploreQuery):data.landing?c.$exploreUrl.landing(x,data.exploreQuery):data.category?c.$exploreUrl.taxonomy(x,data.exploreQuery):data.vendor?c.$exploreUrl.vendor(x,data.exploreQuery):data.editorsChoice?c.$exploreUrl.editorsChoice(x,data.exploreQuery):data.ads?c.$exploreUrl.ads(x,data.exploreQuery):data.city?c.$exploreUrl.city(x,data.exploreQuery):data.about?c.$exploreUrl.about(x,data.exploreQuery):data.guide?c.$exploreUrl.guide(x,data.exploreQuery):data.vendorGuide?c.$exploreUrl.vendorGuide(x,data.exploreQuery):c.$exploreUrl.general(x,data.exploreQuery),e.prev=21,k=+new Date,e.next=25,K.fetchData({size:data.size,cursor:null,section:data.section,authPost:c.$authPost,authGet:c.$authGet,item_size:data.exploreQuery.item_size,requestUrl:data.section?data.exploreSectionURL:S});case 25:if(P=e.sent,cursor=P.cursor,B=P.lastCount,$=P.tabs,T=P.items,E=P.activeTab,D=P.lastRank,L=+new Date,l.dispatch("app/storeWebVitalData",{key:"pageData",value:L-k}),D&&(data.exploreQuery.last_rank=D),T.length){e.next=37;break}return e.abrupt("return",r({statusCode:404,message:"Page not found"}));case 37:return e.abrupt("return",se(se({},data),{},{tabs:$||{},cursor:cursor||null,lastCount:B||0,activeTab:E||null,exploreSections:T,showInfinite:!0,error:!1}));case 40:if(e.prev=40,e.t0=e.catch(21),!f){e.next=44;break}return e.abrupt("return",d(e.t0,!0));case 44:return d(e.t0),e.abrupt("return",se(se({},data),{},{exploreSections:[],showInfinite:!1,error:!0}));case 46:case"end":return e.stop()}}),e,null,[[21,40]])})))).apply(this,arguments)}var oe={name:"HomePage",components:{Tiles:H,SwitchPageView:Y,ExploreHomePage:te},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o,r,l,c,v,h,m,f,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o="/"===e.route.path,r=null===(n=e.$runGBTest("test_first_page_with_tiles",null,!1))||void 0===n?void 0:n.value,l=void 0!==e.$cookies.get("firstPageTiles")?o&&e.$cookies.get("firstPageTiles"):o&&"tiles_with_switch"===r,c=o&&["tiles_with_switch","default_with_switch"].includes(r),l){t.next=17;break}return t.prev=5,t.next=8,ne(e);case 8:return v=t.sent,t.abrupt("return",{pageData:v,testVariant:r,showTiles:l,isFirstPage:o,showSwitch:c});case 12:t.prev=12,t.t0=t.catch(5),e.$handleError(err);case 15:t.next=29;break;case 17:return t.prev=17,m=(null===(h=e.store.getters["auth/currentUser"])||void 0===h?void 0:h.id)||0,t.next=21,e.$authGet("https://api.basalam.com/explore/api_v1.0/user/general/".concat(m,"?size=20&tab=home_tile&item_size=12"));case 21:return f=t.sent,data=f.data,t.abrupt("return",{pageData:d(data.items),showTiles:l,showSwitch:c,isFirstPage:o,testVariant:r});case 26:t.prev=26,t.t1=t.catch(17),e.$handleError(t.t1);case 29:case"end":return t.stop()}}),t,null,[[5,12],[17,26]])})))()},head:function(){var e,t,n,o,r,l,c,d,v,h,m,f,_,x,y,w,link;if(this.isFirstPage&&this.pageData)return _=(t=this).$config,x=t.exploreHomePageData,y=null==x?void 0:x.exploreSections,w="«باسلام» یک بازار بی‌مرز برای خرید و فروش است. در باسلام می‌توانید هر چیزی را که به دنبالش می‌گردید در میان دریای متنوعی از محصولات پیدا کنید.",link=[{rel:"canonical",href:_.baseUrl}],y&&y.length&&(null===(n=y[0])||void 0===n?void 0:n.result)&&(null===(o=y[0])||void 0===o?void 0:o.result.length)&&!(null===(r=y[0])||void 0===r||null===(l=r.result[0])||void 0===l||null===(c=l.metadata)||void 0===c||null===(d=c.image)||void 0===d||!d.LARGE)&&link.push({rel:"preload",as:"image",href:null===(v=y[0])||void 0===v||null===(h=v.result[0])||void 0===h||null===(m=h.metadata)||void 0===m||null===(f=m.image)||void 0===f?void 0:f.LARGE,fetchpriority:"high"}),{title:"باسلام؛ بازار بی‌مرز",link:link,bodyAttrs:{style:"background-color: #f7f7f7"},meta:[{hid:"description",name:"description",content:"«باسلام» یک بازار بی‌مرز برای خرید و فروش محصولات مختلف با کیفیت و قیمت‌های متفاوت است. در باسلام می‌توانید هر چیزی را که به دنبالش می‌گردید در میان دریای متنوعی از محصولات پیدا کنید. محصولات خاصی که در فروشگاه‌های اینترنتی کمتر پیدا می‌شود. این محصولات را می‌توانید مستقیما از خود تولیدکننده‌ها یا واسطه‌ها بخرید. همچنین، می‌توانید غرفه خود را راه بیاندازید و محصولاتتان را بفروشید. به باسلام بیایید، بین هزاران غرفه‌ی آنلاین بچرخید و درباره‌ی تجربه‌های متنوع خریدوفروش گپ بزنید."},{property:"og:url",content:_.baseUrl},{hid:"og:title",property:"og:title",content:"باسلام؛ بازار بی‌مرز"},{hid:"og:description",property:"og:description",content:w},{name:"twitter:card",content:"summary"},{name:"twitter:site",content:"@basalam_bazaar"},{name:"twitter:title",content:"باسلام؛ بازار بی‌مرز"},{name:"twitter:description",content:w}]};var head={link:[{rel:"canonical",href:this.$config.baseUrl+this.$route.path}],meta:[]},title="باسلام؛ بازار بی‌مرز";head.title=title,head.meta.push({hid:"og:title",property:"og:title",content:title});var C="«باسلام» یک بازار بی‌مرز برای خرید و فروش است. در باسلام می‌توانید هر چیزی را که به دنبالش می‌گردید در میان دریای متنوعی از محصولات پیدا کنید.";return head.meta.push({hid:"description",name:"description",content:C}),head.meta.push({hid:"og:description",property:"og:description",content:C}),(null!==(e=this.pageData)&&void 0!==e&&e.section||this.$route.path.includes("/promotions")&&!this.$route.path.includes("/promotions/coupon"))&&(head.link=[],head.meta=[{hid:"robots",name:"robots",content:"noindex"}]),head},mounted:function(){this.isFirstPage&&!this.$cookies.get("firstPageTiles")&&this.$evaluateGBTest("test_first_page_with_tiles")}},re=Object(f.a)(oe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ClientOnly",[e.showSwitch?n("SwitchPageView",{attrs:{variant:e.testVariant}}):e._e()],1),e._v(" "),e.showTiles?n("Tiles",{attrs:{"page-data":e.pageData}}):n("ExploreHomePage",{attrs:{"page-data":e.pageData}})],1)}),[],!1,null,null,null);t.default=re.exports}}]);
//# sourceMappingURL=e781ef5.js.map